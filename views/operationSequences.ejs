<!DOCTYPE html>

<% tracerules.forEach(function(trace,index){%>
  <div class="myBorderRadius">
    <div class="titles">
      Trace Rule
    </div>
    
    <div style="margin-top:8px">
      <ul class="nav nav-list" id="guardlist">
        <li class="nav-list-11"><a href="javascript:;" class="myInsidePlus" style="text-align:left;margin-bottom:0px;vertical-align:middle;font-size:120%" id="guardNameShow">Guard:  <%=trace.name%><i class="icon-plus" style="float:right;margin-right:6px;display:none;margin-top:8px"></i><i class="icon-pencil editGuard" style="float:right;margin-right:6px;display:none;margin-top:8px"></i></a></li>
      </ul>
    </div>
  </div>

  <div class="myBorderRadius" style="margin-top:15px">
    <div class="ostitles" style="line-height:18px">
      Operation Sequence
    </div>
  </div>

  <div style="margin-top:8px">
      <div id="outer">
        <div class="box">
          <div class="accordion_wrapper sortable" rel="sections">
             <% 
                var positions=new Array();
               
                positions=trace.positions.split('$');

                for(key in positions){
                      var element_path=new Array();
                      if(trace.operations[positions[key]].element!=""){
                         element_path=trace.operations[positions[key]].element.split('.');
                      }
                      if(trace._id==element_path[0]){
                         var element_name=trace.elements[element_path[2]].name;
                         var element_description=trace.elements[element_path[2]].description;
                         var element_type=trace.elements[element_path[2]].type;
                         var element_executor=trace.elements[element_path[2]].executor;
                         var element_is_virtual=trace.elements[element_path[2]].is_virtual;
                        }
                        if(trace.operations[positions[key]].type=="C2"){
                  } 
                        switch(trace.operations[positions[key]].type){
                          case "C2":
                  %>
                          <%- partial('C2Show', {current_guard:current_guard,tracerules:tracerules,elementdepencys:elementdepencys,element_name:element_name,element_description:element_description,element_type:element_type,element_executor:element_executor }) %>
                  <%
                            break;
                          case "C1":
                            break;
                          case "C3":
                            break;
                          case "C4":
                            break;
                          case "I1":
                            break;
                          case "I2":
                            break;
                          case "I3":
                            break;
                          case "I4":
                            break;
                          case "I5":
                            break;
                          case "I6":
                            break;
                          case "I7":
                            break;
                          case "I8":
                            break;
                          case "I9":
                            break;
                          case "I10":
                            break;
                        }
                } //end for position
                %>
          </div>
        </div>
      </div>
  </div>
    
<%  })%>