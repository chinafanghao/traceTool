<!DOCTYPE html>

<% tracerules.forEach(function(trace,index){
   if(trace._id==current_guard){

  %>

<div class="BorderGuard">
    <div class="titles">
      Trace Rule
    </div>
    
    <div style="margin-top:8px">
      <ul class="nav nav-list" id="guardlist">
        <li class="nav-list-11"><a href="javascript:;" class="myInsidePlus" style="text-align:left;margin-bottom:0px;vertical-align:middle;font-size:120%" id="guardNameShow" name="<%=trace.name%>">Guard:  <%=trace.name%><i class="icon-plus" style="float:right;margin-right:6px;display:none;margin-top:8px"></i><i class="icon-pencil editGuard" style="float:right;margin-right:6px;display:none;margin-top:8px"></i></a></li>
      </ul>
        
          <input type="hidden" id="hiddenselfname" value="<%=trace.selfname%>">
          <input type="hidden" id="hiddenguardname" value="<%=trace.name%>">
        
    </div>
</div>


<div class="BorderGuard" style="margin-top:15px">
    <div class="ostitles" style="line-height:18px">
      Operation Sequence
    </div>
    
    <div style="margin-top:8px">
      <div id="outer">
        <div class="box">
          <div class="accordion_wrapper sortable" rel="sections">
              <% 
                var positions=new Array();
                console.log("trace.positions: "+trace.positions);
               if(trace.positions!=""){
                positions=trace.positions.split('$');
                console.log("positions: "+positions);
                for(key in positions){
                      console.log("now guard:"+positions[key]);
                      var element_path=new Array();
                      if(trace.operations[positions[key]].element!=""){
                         element_path=trace.operations[positions[key]].element.split('.');
                      }
                      if(trace._id==element_path[0]){
                        var element_name=trace.elements[element_path[2]].name;
                        var element_description=trace.elements[element_path[2]].description;
                        var element_type=trace.elements[element_path[2]].type;
                        var element_executor=trace.elements[element_path[2]].executor;
                        //var element_is_virtual=trace.elements[element_path[2]].is_virtual;
                        }
                        if(trace.operations[positions[key]].type=="C2"){
                          var target1=trace.operations[positions[key]].element.split(".");
                %>
                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              
                              <%
                                var guard_name=positions[key].split(" ");
                               
                                  for(pos in guard_name){
                                    if(pos==0){
                                    %>
                                    <%=guard_name[pos] %>
                              <%
                                    }else{
                                      if(pos==1){        
                              %>
                                     <b><%=element_executor%></b> <%=guard_name[pos]%>
                              
                              <%      
                                        }else{
                              %>
                                     <b><%=guard_name[pos] %></b>
                              <%
                                      }
                                    }
                                  }
                                
                              %>
                              <i class="icon-minus deleteActivity"style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              
                              <form class="form-horizontal">
                                <input type="hidden" id="hidden_editactivity" value="<%= target1[0]%>">
                                <div class="control-group">
                                  <label class="control-label" for="ActivityName">Name:</label>
                                  <div class="controls">
                                    <input type="text" id="input" readonly="true" style="width:100" value="<%= element_name%>">
                                    <i class="icon-pencil editOperation Activity" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation Activity" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
                                  </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label" for="inputEmail">Description:</label>
                                    <div class="controls">
                                      <textarea rows="3" cols="10" readonly="true" style="resize:none"><%=element_description%> </textarea>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label" for="ActivityExecutor">Executor:</label>
                                    <select style="width:15%" class="ActivityExecutor" disabled=true>
                                      <% if(element_executor=="System"){%>
                                      <option value="System" selected="selected">System</option>
                                      <option value="User">User</option>
                                      <%}else{%>
                                        <option value="System">System</option>
                                      <option value="User" selected="selected">User</option>
                                      <%}%>
                                    </select>
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
              
              <%
              }else{
                 
                if(trace.operations[positions[key]].type=="C1"){
                  var target1=trace.operations[positions[key]].element.split(".");
                  %>

                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Create Use Case <b><%= element_name%></b>
                              <i class="icon-minus deleteUseCase" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                 <input type="hidden" id="hidden_editusecase" value="<%= target1[0]%>">
                                <div class="control-group">
                                  <label class="control-label" for="ActivityName">Name:</label>
                                  <div class="controls">
                                    <input type="text" id="input" readonly="true" style="width:100" value="<%= element_name%>">
                                    <i class="icon-pencil editOperation UseCase" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation UseCase" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
                                  </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label" for="inputEmail">Description:</label>
                                    <div class="controls">
                                      <textarea rows="3" cols="10" readonly="true" style="resize:none"><%=element_description%> </textarea>
                                    </div>
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                  <%
                }else{
                  if(trace.operations[positions[key]].type=="C3"){
                    var target1=trace.operations[positions[key]].element.split(".");
                    %>

                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Create <b><%=element_executor%></b> Decision <b><%= element_name%></b>
                              <i class="icon-minus deleteDecision" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                 <input type="hidden" id="hidden_editdecision" value="<%= target1[0]%>">
                                <div class="control-group">
                                  <label class="control-label" for="DecisionName">Name:</label>
                                  <div class="controls">
                                    <input type="text" id="input" readonly="true" style="width:100" value="<%= element_name%>">
                                    <i class="icon-pencil editOperation Decision" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation Decision" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
                                  </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label" for="inputEmail">Description:</label>
                                    <div class="controls">
                                      <textarea rows="3" cols="10" readonly="true" style="resize:none"><%=element_description%> </textarea>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label" for="DecisionExecutor">Executor:</label>
                                    <select style="width:15%" class="DecisionExecutor" disabled=true>
                                      <% if(element_executor=="System"){%>
                                      <option value="System" selected="selected">System</option>
                                      <option value="User">User</option>
                                      <%}else{%>
                                        <option value="System">System</option>
                                      <option value="User" selected="selected">User</option>
                                      <%}%>
                                    </select>
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>    
                    <%
                  }else{
                    if(trace.operations[positions[key]].type=="C4"){
                      var target1=trace.operations[positions[key]].element.split(".");
                      %>
                      <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Create Condition <b><%= element_name%></b>
                              <i class="icon-minus deleteCondition" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                <input type="hidden" id="hidden_editcondition" value="<%= target1[0]%>">
                                <div class="control-group">
                                  <label class="control-label" for="ConditionName">Name:</label>
                                  <div class="controls">
                                    <input type="text" id="input" readonly="true" style="width:100" value="<%= element_name%>">
                                    <i class="icon-pencil editOperation Condition" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation Condition" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
                                  </div>
                                </div>
                                <div class="control-group">
                                    <label class="control-label" for="ConditionDescription">Description:</label>
                                    <div class="controls">
                                      <textarea rows="3" cols="10" readonly="true" style="resize:none"><%=element_description%> </textarea>
                                    </div>
                                </div>
                              </form>
                            </div>
                          </div>
                      </div>
                      <%
                    }else{
                      if(trace.operations[positions[key]].type=="I1"){
                         var target1=trace.operations[positions[key]].element.split('.');
                         var target2=trace.operations[positions[key]].preElement.split('.');
                         var target3=trace.operations[positions[key]].postElement.split('.');
                         var target4=trace.operations[positions[key]].usecaseElement.split('.');
                        %>
                          <div id="<%=positions[key]%>" class="section_accordion">
                            <div class="accordion">
                            <h4>
                              Insert <b><%=target1[2]%></b> between <b><%= target2[2]%></b> and <b><%=target3[2]%></b> in <b><%=target4[2]%></b>
                              <i class="icon-minus" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                <div style="margin-top:10px">
                                  <div>
                                    Inserted Activity:
                                    <select style="width:72%;margin-left:7px" class="InterBetTar" disabled=true>
                                     
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="activity"&&elementdepencys[keyss].dependee==current_guard){
                                       
                                        if(elementdepencys[keyss].element!=target1[2]){

                                        %>
                                      <option value="<%= elementdepencys[keyss].dependee%>"+"."+"<%= elementdepencys[keyss].element%>"><%= elementdepencys[keyss].element%></option>
                                    <%
                                      }else{
                                    %>
                                        <option value="<%= elementdepencys[keyss].dependee%>"+"."+"<%= elementdepencys[keyss].element%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                      }
                                     }
                                    }
                                   %>
                                    </select>
                                    <i class="icon-pencil editOperation InsertBetween" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation InsertBetween" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
                                  </div>
                                  <div style="margin-top:20px">
                                    Pre Activity:
                                    <select style="width:72%;margin-left:43px" class="InterBetPre" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                            
                                        if(elementdepencys[keyss].element!=target2[2]){%>
                                            <option value="<%= elementdepencys[keyss].dependee%>"+"."+"<%= elementdepencys[keyss].element%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= elementdepencys[keyss].dependee%>"+"."+"<%= elementdepencys[keyss].element%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }
                                      %>
                                    </select>
                                  </div>
                                  <div style="margin-top:20px">
                                  Post Activity:
                                  <select style="width:72%;margin-left:36px" class="InterBetPost" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="activity"){
                                        
                                      if(elementdepencys[keyss].element!=target3[2]){
                                    %>
                                        <option value="<%= elementdepencys[keyss].dependee%>"+"."+"<%= elementdepencys[keyss].element%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                        <option value="<%= elementdepencys[keyss].dependee%>"+"."+"<%= elementdepencys[keyss].element%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                        }
                                      }
                                    }%>

                                  </select>
                                  </div>
                                  <div style="margin-top:20px">
                                   Use Case:
                                    <select style="width:72%;margin-left:60px" class="InterBetUseCase" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="UseCase"){
                                         
                                          if(elementdepencys[keyss].element!=target4[2]){
                                    %>
                                      <option value="<%= elementdepencys[keyss].dependee%>"+"."+"<%= elementdepencys[keyss].element%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                      <option value="<%= elementdepencys[keyss].dependee%>"+"."+"<%= elementdepencys[keyss].element%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                          }
                                        }
                                      }%>

                                    </select>
                                  </div>
                               </div>
                              </form>
                            </div>
                            </div>
                          </div>
                        <%
                      }else{ 
                        if(trace.operations[positions[key]].type=="I2"){
                          var target1=trace.operations[positions[key]].element.split('.');
                          var target2=trace.operations[positions[key]].preElement.split('.');
                          var target3=trace.operations[positions[key]].usecaseElement.split('.');
                        %>
                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Insert <b><%=target1[2]%></b> after <b><%=target2[2]%></b> in <b><%= target3[2]%></b>
                              <i class="icon-minus insertactafterpre" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                <input type="hidden" id="hidden_insertactafterpre" value="<%= target1[0]%>_<%=target2[0]%>_<%= target3[0]%>">
                                <input type="hidden" id="hidden_insertactafterpre_guardID" value="<%=target1[0] %>">
                                <div style="margin-top:10px">
                                  <div>
                                    Inserted Activity:
                                    <select style="width:72%;margin-left:7px" class="InterBetTar" disabled=true>
                                     
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="activity"&&elementdepencys[keyss].dependee==current_guard){
                                        var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target1[2]){

                                        %>
                                      <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{
                                        %>
                                        <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                           }
                                         }
                                      }%>
              
                                    </select>
                                    <i class="icon-pencil editOperation insertactafterpre" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation insertactafterpre" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>       
                                  </div>
                                  <div style="margin-top:20px">
                                    Pre Activity:
                                    <select style="width:72%;margin-left:43px" class="InterBetPre" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target2[2]){%>
                                            <option value="<%=Id%>" ><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%=Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
                                  </div>
                                  <div style="margin-top:20px">
                                  Use Case:
                                  <select style="width:72%;margin-left:60px" class="InterBetUseCase" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="UseCase"){
                                        var Useid=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=target3[2]){
                                            
                                    %>
                                      <option value="<%= Useid%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                      <option value="<%= Useid%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                          }
                                        }
                                      }%>

                                  </select>
                                  </div>
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                    <%
                        }else{
                          if(trace.operations[positions[key]].type=="I3"){
                            var target1=trace.operations[positions[key]].element.split('.');
                            var target2=trace.operations[positions[key]].postElement.split('.');
                            var target3=trace.operations[positions[key]].usecaseElement.split('.');
                    %>
                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Insert <b><%=target1[2]%></b> before <b><%=target2[2]%></b> in <b><%= target3[2]%></b>
                              <i class="icon-minus insertActBeforePost" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>

                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                <input type="hidden" id="hidden_insertActBeforePost" value="<%= target1[0]%>_<%=target2[0]%>_<%= target3[0]%>">
                                <input type="hidden" id="hidden_insertActBeforePost_guardID" value="<%=target1[0] %>">
                                <div style="margin-top:10px">
                                  <div>
                                    Inserted Activity:
                                    <select style="width:72%;margin-left:7px" class="InterBetTar" disabled=true>
                                     
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="activity"&&elementdepencys[keyss].dependee==current_guard){
                                        var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target1[2]){

                                        %>
                                      <option value="<%=Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{
                                      %>
                                        <option value="<%=Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                      }
                                     }
                                    %>
              
                                    </select>
                                    <i class="icon-pencil editOperation insertActBeforePost" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation insertActBeforePost" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
        
                                  </div>
                                  <div style="margin-top:20px">
                                    Post Activity:
                                    <select style="width:72%;margin-left:37px" class="InterBetPre" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target2[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>
                                  <div style="margin-top:20px">
                                    Use Case:
                                    <select style="width:72%;margin-left:60px" class="InterBetUseCase" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="UseCase"){
                                        var Useid=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=target3[2]){
                                    %>
                                      <option value="<%= Useid%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                      <option value="<%= Useid%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                          }
                                        }
                                      }%>

                                    </select>
                                  </div>
       
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                    <%
                          } //end I3
                        else{
                          if(trace.operations[positions[key]].type=="I4"){
                            var target1=trace.operations[positions[key]].element.split('.');
                            var target2=trace.operations[positions[key]].decision.split('.');
                            var target3=trace.operations[positions[key]].condition.split('.');
                            var target4=trace.operations[positions[key]].usecaseElement.split('.');
                    %>
                           <div id="<%=positions[key]%>" class="section_accordion">
                              <div class="accordion">
                                <h4>
                              Insert <b><%=target1[2]%></b> after <b><%=target2[2]%></b> , <b><%=target3[2]%></b> in <b><%= target4[2]%></b>
                              <i class="icon-minus deleteInsertActAfterDecCon" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                                </h4>
                                <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                <input type="hidden" id="hidden_insertActAfterDecCon" value="<%= target1[0]%>_<%=target2[0]%>_<%= target3[0]%>_<%= target4[0]%>">
                                <input type="hidden" id="hidden_insertActAfterDecCon_guardID" value="<%=target1[0] %>">
                                <div style="margin-top:10px">
                                  <div>
                                    Inserted Activity:
                                    <select style="width:72%;margin-left:7px" class="InterAfterDecConAct" disabled=true>
                                     
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="activity"&&elementdepencys[keyss].dependee==current_guard){
                                        var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target1[2]){

                                        %>
                                      <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{
                                      %>
                                        <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                      }
                                    }%>
              
                                    </select>
                                    <i class="icon-pencil editOperation insertActAfterDecCon" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation insertActAfterDecCon" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
        
                                  </div>
                                  <div style="margin-top:20px">
                                    Decision:
                                    <select style="width:72%;margin-left:66px" class="InterAfterDecConDec" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="decision"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target2[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>
                                  <div style="margin-top:20px">
                                    Condition:
                                    <select style="width:72%;margin-left:60px" class="InterAfterDecConCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target3[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>
                                  <div style="margin-top:20px">
                                    Use Case:
                                    <select style="width:72%;margin-left:60px" class="InterAfterDecConUseCase" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="UseCase"){
                                        var Useid=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=target4[2]){
                                    %>
                                      <option value="<%= Useid%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                      <option value="<%= Useid%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                          }
                                        }
                                      }%>

                                    </select>
                                  </div>
       
                                </div>
                              </form>
                                </div>
                              </div>
                           </div>
                    <%
                          } //end I4
                        else{
                          if(trace.operations[positions[key]].type=="I5"){
                            var target1=trace.operations[positions[key]].element.split('.');
                            var target2=trace.operations[positions[key]].postactivity.split('.');
                            var target3=trace.operations[positions[key]].condition.split('.');
                            var target4=trace.operations[positions[key]].usecaseElement.split('.');
                    %>
                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Insert <b><%=target1[2]%></b> before <b><%=target2[2]%></b> , <b><%=target3[2]%></b> in <b><%= target4[2]%></b>
                              <i class="icon-minus deleteInsertActBeforeActCon" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                 <input type="hidden" id="hidden_insertActBeforeActCon" value="<%= target1[0]%>_<%=target2[0]%>_<%= target3[0]%>_<%= target4[0]%>">
                                 <input type="hidden" id="hidden_insertActBeforeActCon_guardID" value="<%=target1[0] %>">
                                <div style="margin-top:10px">
                                  <div>
                                    Inserted Activity:
                                    <select style="width:72%;margin-left:7px" class="InterBeforeActConTar" disabled=true>
                                     
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="activity"&&elementdepencys[keyss].dependee==current_guard){
                                        var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target1[2]){

                                        %>
                                      <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{
                                      %>
                                        <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                      }
                                    }%>
              
                                    </select>
                                    <i class="icon-pencil editOperation insertActBeforeActCon" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation insertActBeforeActCon" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
        
                                  </div>
                                  <div style="margin-top:20px">
                                    Decision:
                                    <select style="width:72%;margin-left:66px" class="InterBeforeActConAct" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target2[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>
                                  <div style="margin-top:20px">
                                    Condition:
                                    <select style="width:72%;margin-left:60px" class="InterBeforeActConCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target3[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>
                                  <div style="margin-top:20px">
                                  Use Case:
                                  <select style="width:72%;margin-left:60px" class="InterBeforeActConUseCase" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="UseCase"){
                                        var Useid=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=target4[2]){
                                    %>
                                      <option value="<%= Useid%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                      <option value="<%= Useid%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                          }
                                        }
                                      }%>

                                  </select>
                                  </div>
       
                               </div>
                              </form>
                            </div>
                          </div>
                        </div>
                    <%
                            }//end I5
                          else{
                            if(trace.operations[positions[key]].type=="I6"){
                              var target1=trace.operations[positions[key]].element.split('.');
                              var target2=trace.operations[positions[key]].preactivity.split('.');
                              var target3=trace.operations[positions[key]].maincondition.split('.');
                              var target4=trace.operations[positions[key]].supcondition.split('.');
                              var target5;
                              if(trace.operations[positions[key]].insertactivity!="")
                                target5=trace.operations[positions[key]].insertactivity.split('.');
                              else
                                target5="";
                              var target6=trace.operations[positions[key]].targetactivity.split('.');
                              var target7=trace.operations[positions[key]].usecaseElement.split('.');
                    %>
                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Insert <b><%=target1[2]%></b> after <b><%=target2[2]%></b> with ( <b><%=target3[2]%></b> ),( <b><%=target4[2]%></b> ,  
                              <%
                                if(target5!=""){
                              %>
                                <b><%=target5[2]%></b> ,
                              <%
                                }
                              %>
                              <b><%=target6[2]%></b> )

                              in <b><%= target7[2]%></b>
                               <%
                                var cpstr="Insert "+target1[2]+" after "+target2[2]+" with ( "+target3[2]+" ),( "+target4[2]+" , ";
                                  if(target5!=""){
                                    cpstr=cpstr+target5[2]+" , ";
                                  }
                                  cpstr=cpstr+target6[2]+" ) in "+target7[2];
                                var strlen=cpstr.length;
                                if(strlen>72&&strlen<80){
                              %>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  
                              <%
                                }
                              %>
                              <i class="icon-minus deleteInsertDecAfterAct" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                <input type="hidden" id="hidden_insertDecAfterAct" value="<%= target1[0]%>_<%=target2[0]%>_<%= target3[0]%>_<%= target4[0]%>_<%= target5[0]%>_<%= target6[0]%>_<%= target7[0]%>">
                                <input type="hidden" id="hidden_insertDecAfterAct_guardID" value="<%=target1[0] %>">
                                <div style="margin-top:10px">
                                  <div>
                                    Target Decision:
                                    <select style="width:60%;margin-left:89px" class="InsertDecAfterActDec" disabled=true>
                                     
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="decision"&&elementdepencys[keyss].dependee==current_guard){
                                        var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target1[2]){
                                          
                                        %>
                                      <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{
                                      %>
                                        <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                      }
                                    }%>
              
                                    </select>
                                    <i class="icon-pencil editOperation InsertDecAfterAct" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation InsertDecAfterAct" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
        
                                  </div>
                                  <div style="margin-top:20px">
                                    Pre-Activity:
                                    <select style="width:60%;margin-left:119px" class="InsertDecAfterActPreAct" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target2[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>
                                  <div style="margin-top:20px">
                                    Main Branch Condition:
                                    <select style="width:60%;margin-left:35px" class="InsertDecAfterActMainCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target3[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Additonal Branch Condition:
                                    <select style="width:60%;margin-left:0px" class="InsertDecAfterActSupCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target4[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                        <%
                                          }
                                            }
                                              }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Inserted Activity(optional):
                                    <select style="width:60%;margin-left:7px" class="InsertDecAfterActInserAct" disabled=true>
               
                                      <% 
                                      if(target5!=""){
                                        for(keyss in elementdepencys){
                                          if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=target5[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                        <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                        <%
                                          }
                                            }
                                              }
                                            }else{
                                              for(keyss in elementdepencys){
                                          if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=""){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                       <%}else{%>
                                            <option value="none" selected="selected">
                                              no inserted activity</option>
                                        <%
                                          }
                                            }
                                              }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Inserted Activity:
                                    <select style="width:60%;margin-left:96px" class="InsertDecAfterActTarAct" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target6[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                  Use Case:
                                  <select style="width:60%;margin-left:137px" class="InsertDecAfterActUseCase" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="UseCase"){
                                        var Useid=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=target7[2]){
                                    %>
                                      <option value="<%= Useid%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                      <option value="<%= Useid%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                          }
                                        }
                                      }%>

                                  </select>
                                  </div>
       
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                    <%
                              }//end I6
                            else{

                               if(trace.operations[positions[key]].type=="I7"){
                              var target1=trace.operations[positions[key]].element.split('.');
                              var target2=trace.operations[positions[key]].insertdecision.split('.');
                              var target3=trace.operations[positions[key]].insertcondition.split('.');
                              var target4=trace.operations[positions[key]].maincondition.split('.');
                              var target5=trace.operations[positions[key]].supcondition.split('.');
                              var target6=trace.operations[positions[key]].insertactivity.split('.');
                              
                              var target7=trace.operations[positions[key]].targetdecision.split('.');
                              var target8=trace.operations[positions[key]].usecaseElement.split('.');
                    %>
                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Insert <b><%=target1[2]%></b> after ( <b><%=target2[2]%></b> , <b><%=target3[2]%></b> ) with ( <b><%=target4[2]%></b> ),( <b><%=target5[2]%></b> , <b><%=target6[2]%></b> , <b><%=target7[2]%></b> ) in <b><%= target8[2]%></b>
                              <%
                                var cpstr="Insert "+target1[2]+" after ( "+target2[2]+" , "+target3[2]+" ) with ( "+target4[2]+" ),( "+target5[2]+" , "+target6[2]+" , "+target7[2]+" ) in "+target8[2];
                                var strlen=cpstr.length;
                                if(strlen>72&&strlen<80){
                              %>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                              <%
                                }
                              %>
                              
                              <i class="icon-minus deleteInsertDecAfterDecCon" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                 <input type="hidden" id="hidden_insertDecAfterDecCon" value="<%= target1[0]%>_<%=target2[0]%>_<%= target3[0]%>_<%= target4[0]%>_<%= target5[0]%>_<%= target6[0]%>_<%= target7[0]%>_<%= target8[0]%>">
                                 <input type="hidden" id="hidden_insertDecAfterDecCon_guardID" value="<%=target1[0] %>">
                                <div style="margin-top:10px">
                                  <div>
                                    Target Decision:
                                    <select style="width:60%;margin-left:97px" class="InsertDecAfterDecConDec" disabled=true>
                                     
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="decision"&&elementdepencys[keyss].dependee==current_guard){
                                         var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target1[2]){

                                        %>
                                      <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{
                                      %>
                                        <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                      }
                                    }%>
              
                                    </select>
                                    <i class="icon-pencil editOperation insertDecAfterDecCon" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation insertDecAfterDecCon" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
        
                                  </div>
                                  <div style="margin-top:20px">
                                    Inserted Decision:
                                    <select style="width:60%;margin-left:87px" class="InsertDecAfterDecConInserDec" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="decision"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target2[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Inserted Condition:
                                    <select style="width:60%;margin-left:73px" class="InsertDecAfterDecConInserCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target3[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>


                                  <div style="margin-top:20px">
                                    Main Branch Condition:
                                    <select style="width:60%;margin-left:43px" class="InsertDecAfterDecConMainCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target4[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Additonal Branch Condition:
                                    <select style="width:60%;margin-left:5px" class="InsertDecAfterDecConSupCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target5[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Inserted Activity:
                                    <select style="width:60%;margin-left:87px" class="InsertDecAfterDecConInserAct" disabled=true>
               
                                      <% 
                                  
                                      for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target6[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }
                                          
                                      %>
                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Target Decision:
                                    <select style="width:60%;margin-left:94px" class="InsertDecAfterDecConTarAct" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="decision"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target7[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                  Use Case:
                                  <select style="width:60%;margin-left:142px" class="InsertDecAfterDecConUseCase" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="UseCase"){
                                        var Useid=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=target8[2]){
                                    %>
                                      <option value="<%= Useid%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                      <option value="<%= Useid%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                          }
                                        }
                                      }%>

                                  </select>
                                  </div>
       
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                  <%
                                } //end I7
                              else{
                                if(trace.operations[positions[key]].type=="I8"){
                                   var target1=trace.operations[positions[key]].element.split('.');
                                   var target2=trace.operations[positions[key]].postactivity.split('.');
                                   var target3=trace.operations[positions[key]].condition1.split('.');
                                   var target4=trace.operations[positions[key]].target1.split('.');
                                   var target5=trace.operations[positions[key]].condition2.split('.');;
                                   var target6=trace.operations[positions[key]].target2.split('.');
                                   var target7=trace.operations[positions[key]].usecaseElement.split('.');
                  %>
                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Insert <b><%=target1[2]%></b> before <b><%=target2[2]%></b> with ( <b><%=target3[2]%></b> , <b><%=target4[2]%></b> ),( <b><%=target5[2]%></b> , <b><%=target6[2]%></b> ) in <b><%= target7[2]%></b>
                              <i class="icon-minus deleteInsertDecBeforeAct" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                <input type="hidden" id="hidden_insertDecBeforeAct" value="<%= target1[0]%>_<%=target2[0]%>_<%= target3[0]%>_<%= target4[0]%>_<%= target5[0]%>_<%= target6[0]%>_<%= target7[0]%>">
                                <input type="hidden" id="hidden_insertDecBeforeAct_guardID" value="<%=target1[0] %>">
                                <div style="margin-top:10px">
                                  <div>
                                    Target Decision:
                                    <select style="width:72%;margin-left:15px" class="InsertDecBeforeActDec" disabled=true>
                                     
                                      <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="decision"&&elementdepencys[keyss].dependee==current_guard){
                                        var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target1[2]){

                                        %>
                                      <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{
                                        %>
                                        <option value="<%=Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                        <%
                                          }
                                        }
                                      }%>
              
                                    </select>
                                    <i class="icon-pencil editOperation insertDecBeforeAct" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation insertDecBeforeAct" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
        
                                    </div>
                                    <div style="margin-top:20px">
                                      Post-Activity:
                                      <select style="width:72%;margin-left:36px" class="InsertDecBeforeActPostAct" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target2[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                      </select>
   
                                    </div>
                                    <div style="margin-top:20px">
                                      Condition 1:
                                      <select style="width:72%;margin-left:46px" class="InsertDecBeforeActCon1" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target3[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                      </select>
   
                                    </div>

                                    <div style="margin-top:20px">
                                      Target Activity 1:
                                      <select style="width:72%;margin-left:5px" class="InsertDecBeforeActTar1" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target4[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                      </select>
   
                                    </div>

                                    <div style="margin-top:20px">
                                      Condition 2:
                                      <select style="width:72%;margin-left:46px" class="InsertDecBeforeActCon2" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target5[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>
                                      </select>
   
                                    </div>

                                    <div style="margin-top:20px">
                                      Target Activity 2:
                                      <select style="width:72%;margin-left:5px" class="InsertDecBeforeActTar2" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                             var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target6[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                      </select>
   
                                    </div>

                                    <div style="margin-top:20px">
                                  Use Case:
                                  <select style="width:72%;margin-left:60px" class="InterBeforeActUseCase" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="UseCase"){
                                          var Useid=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=target7[2]){
                                    %>
                                      <option value="<%= Useid%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                      <option value="<%= Useid%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                          }
                                        }
                                      }%>

                                  </select>
                                  </div>
       
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                  <%
                                  } //end I8
                                else{
                                  if(trace.operations[positions[key]].type=="I9"){
                                      var target1=trace.operations[positions[key]].element.split('.');
                                      var target2=trace.operations[positions[key]].postactivity.split('.');
                                      var target3=trace.operations[positions[key]].maincondition.split('.');
                                      var target4=trace.operations[positions[key]].supcondition.split('.');
                                      var target5;
                                      if(trace.operations[positions[key]].insertactivity!="")
                                        target5=trace.operations[positions[key]].insertactivity.split('.');
                                      else
                                        target5="";
                                      var target6=trace.operations[positions[key]].targetdecision.split('.');
                                      var target7=trace.operations[positions[key]].usecaseElement.split('.');
                  %>
                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Insert <b><%=target1[2]%></b> before <b><%=target2[2]%></b> with ( <b><%=target3[2]%></b> ),( <b><%=target4[2]%></b> , <b><%=target5[2]%></b> , <b><%=target6[2]%></b> ) in <b><%= target7[2]%></b>
                              <i class="icon-minus deleteInsertDecBeforeActWith" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                <input type="hidden" id="hidden_insertDecBeforeActWit" value="<%= target1[0]%>_<%=target2[0]%>_<%= target3[0]%>_<%= target4[0]%>_<%= target5[0]%>_<%= target6[0]%>_<%= target7[0]%>">
                                <input type="hidden" id="hidden_insertDecBeforeActWit_guardID" value="<%=target1[0] %>">
                                <div style="margin-top:10px">
                                  <div>
                                    Target Decision:
                                    <select style="width:60%;margin-left:96px" class="InsertDecBeforeActWithTar" disabled=true>
                                     
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="decision"&&elementdepencys[keyss].dependee==current_guard){
                                        var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target1[2]){

                                        %>
                                      <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{
                                      %>
                                        <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                      }
                                    }%>
              
                                    </select>
                                    <i class="icon-pencil editOperation insertDecBeforeActWith" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation insertDecBeforeActWith" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
        
                                  </div>
                                  <div style="margin-top:20px">
                                    Pre-Activity:
                                    <select style="width:60%;margin-left:126px" class="InsertDecBeforeActWithPostAct" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target2[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>
                                  <div style="margin-top:20px">
                                    Main Branch Condition:
                                    <select style="width:60%;margin-left:42px" class="InsertDecBeforeActWithMainCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target3[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Additonal Branch Condition:
                                    <select style="width:60%;margin-left:5px" class="InsertDecBeforeActWithSupCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target4[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Inserted Activity:
                                    <select style="width:60%;margin-left:88px" class="InsertDecBeforeActWithInserAct" disabled=true>
               
                                      <% 
                                      for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target5[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }
                                         %>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Target Decision:
                                    <select style="width:60%;margin-left:94px" class="InsertDecBeforeActWithDec" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="decision"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target6[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Use Case:
                                    <select style="width:60%;margin-left:142px" class="InsertDecBeforeActWithUseCase" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="UseCase"){
                                        var Useid=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=target7[2]){
                                    %>
                                      <option value="<%= Useid%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                      <option value="<%= Useid%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                          }
                                        }
                                      }%>

                                    </select>
                                  </div>
       
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                  <%
                                    } //end I9
                                  else{
                                    if(trace.operations[positions[key]].type=="I10"){
                              var target1=trace.operations[positions[key]].element.split('.');
                              var target2=trace.operations[positions[key]].postactivity.split('.');
                              var target3=trace.operations[positions[key]].insertcondition.split('.');
                              var target4=trace.operations[positions[key]].maincondition.split('.');
                              var target5=trace.operations[positions[key]].supcondition.split('.');
                              var target6=trace.operations[positions[key]].insertactivity.split('.');
                              
                              var target7=trace.operations[positions[key]].targetdecision.split('.');
                              var target8=trace.operations[positions[key]].usecaseElement.split('.');
                  %>
                        <div id="<%=positions[key]%>" class="section_accordion">
                          <div class="accordion">
                            <h4>
                              Insert <b><%=target1[2]%></b> before ( <b><%=target2[2]%></b> , <b><%=target3[2]%></b> ) with ( <b><%=target4[2]%></b> ),( <b><%=target5[2]%></b> , <b><%=target6[2]%></b> , <b><%=target7[2]%></b> ) in <b><%= target8[2]%></b>
                              <i class="icon-minus deleteInsertDecBeforeActCon" style="float:right;margin-right:6px;display:none"></i><i class="icon-plus" style="float:right;margin-right:6px;display:none"></i>
                            </h4>
                            <div id="accordion_<%= trace.operations[positions[key]].name%>_content" >
                              <form class="form-horizontal">
                                <input type="hidden" id="hidden_insertDecBeforeActCon" value="<%= target1[0]%>_<%=target2[0]%>_<%= target3[0]%>_<%= target4[0]%>_<%= target5[0]%>_<%= target6[0]%>_<%= target7[0]%>_<%= target8[0]%>">
                                <input type="hidden" id="hidden_insertDecBeforeActCon_guardID" value="<%=target1[0] %>">
                                <div style="margin-top:10px">
                                  <div>
                                    Target Decision:
                                    <select style="width:60%;margin-left:97px" class="InsertDecBeforeActConTar" disabled=true>
                                     
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="decision"&&elementdepencys[keyss].dependee==current_guard){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target1[2]){

                                        %>
                                      <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{
                                      %>
                                        <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                      }
                                    }%>
              
                                    </select>
                                    <i class="icon-pencil editOperation insertDecBeforeActCon" style="float:right;margin-right:0px;cursor:pointer"></i>
                                    <i class="icon-ok editOperation insertDecBeforeActCon" style="float:right;margin-right:0px;cursor:pointer;display:none"></i>
        
                                  </div>
                                  <div style="margin-top:20px">
                                    Post-Activity:
                                    <select style="width:60%;margin-left:118px" class="InsertDecBeforeActConPostAct" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target2[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Inserted Condition:
                                    <select style="width:60%;margin-left:73px" class="InsertDecBeforeActConInserCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target3[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>


                                  <div style="margin-top:20px">
                                    Main Branch Condition:
                                    <select style="width:60%;margin-left:42px" class="InsertDecBeforeActConMainCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target4[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Additonal Branch Condition:
                                    <select style="width:60%;margin-left:5px" class="InsertDecBeforeActConSupCon" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="condition"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target5[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                        <%
                                          }
                                            }
                                              }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Inserted Activity:
                                    <select style="width:60%;margin-left:83px" class="InsertDecBeforeActConInserAct" disabled=true>
               
                                      <% 
                                  
                                      for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="activity"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target6[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }
                                          
                                      %>
                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                    Target Decision:
                                    <select style="width:60%;margin-left:93px" class="InsertDecBeforeActConTarDec" disabled=true>
               
                                      <% for(keyss in elementdepencys){
                                        if(elementdepencys[keyss].type=="decision"){
                                            var Id=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                        if(elementdepencys[keyss].element!=target7[2]){%>
                                            <option value="<%= Id%>"><%= elementdepencys[keyss].element%></option>
                                      <%}else{%>
                                            <option value="<%= Id%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                      <%
                                        }
                                          }
                                            }%>

                                    </select>
   
                                  </div>

                                  <div style="margin-top:20px">
                                  Use Case:
                                  <select style="width:60%;margin-left:140px" class="InsertDecBeforeActConUseCase" disabled=true>
                
                                    <% for(keyss in elementdepencys){
                                      if(elementdepencys[keyss].type=="UseCase"){
                                          var Useid=elementdepencys[keyss].dependee+"."+elementdepencys[keyss].element;
                                          if(elementdepencys[keyss].element!=target8[2]){
                                    %>
                                      <option value="<%= Useid%>"><%= elementdepencys[keyss].element%></option>
                                    <%}else{%>
                                      <option value="<%= Useid%>" selected="selected"><%= elementdepencys[keyss].element%></option>
                                    <%
                                          }
                                        }
                                      }%>

                                  </select>
                                  </div>
       
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                  <%

                                      }//end I10

                                  }
                                }
                              }
                            }
                          }
                        }
                         }
                        }
                      }
                    }
                  }
                }
              }  
            }
            }
            %>
            
          </div>
        </div>
      </div>

    </div>
   </div>
  <%

  }
    })%>